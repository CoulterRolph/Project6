<!DOCTYPE html>
<html>
<!-- login.html -->

<!-- header -->
<link rel="icon" href="Photos/Logo.png" type="image/png">
<head>
	<title> Forms - Login </title>
	<meta name="description" content="This is a page for users to login or request access">
	<meta name="robots" content="noindex nofollow" />
	<meta http-equiv="author" content="Coulter, David, Stuart" />
	<meta http-equiv="pargma" content="no-cache" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-
		QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<link href="css/project_login_style.css" type="text/css" rel="stylesheet" />
	<link href="css/Sidebar.css" type="text/css" rel="stylesheet" />
	<link href="css/Topbar.css" type="text/css" rel="stylesheet" />
</head>

<!-- body -->
<body>
	<div id="page" class="container-fluid">
		<div class="row min-vh-100">

			<!-- Sidebar -->
			<div class="col-md-3 col-lg-2" id="sidebar">
				<script src="js/sidebar.js"></script>
			</div>

			<section class="col-md-9 col-lg-10 px-md-4 py-4">

				<nav class="mb-4 border-bottom pb-2">
					<ul class="nav">
						<li class="nav-item"><a class="nav-link topbar topbarcurrent" href="login.html">Login</a></li>
						<li class="nav-item"><a class="nav-link topbar" href="request.html">Request Access</a></li>
						<li class="nav-item"><a class="nav-link topbar" href="php/logout.php">Logout</a></li>
						<li class="nav-item"><a class="nav-link topbar" href="register.html">Register</a></li>
					</ul>
				</nav>

				
				<header>
					<h1>Please log in</h1>
				</header>

				<!-- Login form -->
				<article>
					<form action="php/authentication.php" method="post" id="login">
						<article>
							<label for="username" class="text_label">Username:</label>
							<input id="username" type="text" class="text_input" name="username" />
							<a id="userfeedback"></a>
						</article>

						<article>
							<label for="password" class="text_label">Password:</label>
							<input id="password" type="password" class="text_input" name="password" required />
							<a id="passwordfeedback"></a>
						</article>

						<!-- Error messages -->
						<div id="error-message" style="color:red;"></div>
						<script>
							const params = new URLSearchParams(window.location.search);
							const errorDiv = document.getElementById('error-message');
							if (params.get('error') === 'invalid') {
								errorDiv.textContent = 'Invalid username or password.';
							} else if (params.get('error') === 'auth') {
								errorDiv.textContent = 'Authentication Required for GUI';
							} else if (params.get('error') === 'register') {
								errorDiv.textContent = 'Authentication Required for registration';
							} else if (params.get('success') === 'logout') {
								errorDiv.style.color = 'green';
								errorDiv.textContent = 'Successfully logged out';
							}
						</script>
						<article><input type="submit" value="Log in" id="submit" /></article>
						<article><a class="button" href="request.html">Request Access</a></article>
					</form>
				</article>
			</section>
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-
		YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
	<script src="js/eventlistener.js"></script>
	<script src="js/LoadEvent.js"></script>

</body>

</html>